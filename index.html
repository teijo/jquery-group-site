<!DOCTYPE html>
<html>
<head>
<meta name="description" content="jQuery plugin for visualizing and editing tournament group stages" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<script type="text/javascript" src="lib/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="lib/Bacon-1ab32ffb.min.js"></script>
<script type="text/javascript" src="lib/lodash-v1.0.0-rc.3.min.js"></script>
<script type="text/javascript" src="lib/live.js"></script>
<script type="text/javascript" src="lib/handlebars-1.0.rc.2.js"></script>
<script type="text/javascript" src="jquery-group/dist/jquery.group.min.js"></script>
<link type="text/css" rel="stylesheet" href="jquery-group/dist/jquery.group.min.css" />
<style>
body { padding: 1%; background-color: #EEE; padding: 0; }
pre { background-color: #EEE; max-height: 500px; overflow-y: scroll; }
#data { float: right; width: 28%; margin-left: 2%; }
#components { float: left; width: 68%; margin-right: 2%; }
#view { width: 300px; overflow: hidden; }
#sc2demo { width: 250px; overflow: hidden; }
script.demo { display: block; white-space: pre; font-family: monospace; background-color: #EEE; padding: 1em; margin: 1em 0; }
h2 { clear: both; }
article#main { max-width: 780px; background-color: #FFF; padding: 20px; box-sizing: border-box; }
</style>
<script type='text/javascript'>
var groupData = [
  {
    "id": 0,
    "round": 1,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 1
    },
    "b": {
      "name": "First[sk,p]",
      "score": 2
    }
  },
  {
    "id": 1,
    "round": 1,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "MC[sk,p]",
      "score": 1
    }
  },
  {
    "id": 2,
    "round": 1,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "MC[sk,p]",
      "score": 1
    }
  },
  {
    "id": 3,
    "round": 2,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 0
    }
  },
  {
    "id": 4,
    "round": 2,
    "a": {
      "name": "First[sk,p]",
      "score": 0
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 2
    }
  },
  {
    "id": 5,
    "round": 2,
    "a": {
      "name": "MC[sk,p]",
      "score": 0
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 2
    }
  },
  {
    "id": 6,
    "round": 3,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 1
    }
  },
  {
    "id": 7,
    "round": 3,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 0
    }
  },
  {
    "id": 8,
    "round": 3,
    "a": {
      "name": "MC[sk,p]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 0
    }
  },
  {
    "id": 9,
    "round": 4,
    "a": {
      "name": "Ret[fr,z]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 1
    }
  },
  {
    "id": 10,
    "round": 4,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 0
    }
  },
  {
    "id": 11,
    "round": 4,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  },
  {
    "id": 12,
    "round": 5,
    "a": {
      "name": "MC[sk,p]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  },
  {
    "id": 13,
    "round": 5,
    "a": {
      "name": "Ret[fr,z]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 0
    }
  },
  {
    "id": 14,
    "round": 5,
    "a": {
      "name": "Kas[uk,t]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  }
]
var participants = _(["Red Tornadoes", "Venomous Planets", "Crimson Legends", "Deadly Slammers"])
var roundCount = participants.size() - 1 + (participants.size() % 2)
var testData = participants.map(function(it, i) {
  return participants.filter(function(_, j) { return j < i }).map(function(it2) {
    return { round: ~~(Math.random()*10)%(roundCount + 1),
            a: { name: it,  score: ~~(Math.random()*10)%10 },
            b: { name: it2, score: ~~(Math.random()*10)%10 } }
  }).value()
}).flatten(true).value()
</script>
<title>jQuery Group</title>
<script type='text/javascript'>
  //<![CDATA[
  if (window.location.host != "localhost") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1488867-1']);
    _gaq.push(['_trackPageview']);
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
  //]]>
</script>
</head>
<body>
<article id="main">
<h1>jQuery Group - Round-robin tournament groups</h1>

<p>jQuery Group is a UI component for displaying and editing round-robin
  tournaments. It's sister project to <a href="http://aropupu.fi/bracket/">jQuery
  Bracket</a> which does the same for single and double elimination
  brackets..</p>
<p>The project is not yet really in production shape. If you wish to see how the development progresses, please subscribe (star) to the repository at the <a href="https://github.com/teijo/jquery-group/tree/master/dist">project's GitHub page</a>.</p>
<p>To use the project, you'll also need the following libraries:</p>
<ul>
<li><a href="http://lodash.com/">LoDash</a>, <a href="https://github.com/raimohanska/bacon.js">bacon.js</a>, <a href="http://jquery.com/">jQuery</a> and <a href="http://handlebarsjs.com/">handlebars</a></li>
</ul>
<h2>Empty editor</h2>

<p>Create at least two teams by entering a team name and clicking &quot;Add&quot;.
  This will create a match between each team (e.g. teams a, b, c get matches
  a-b, a-c, b-c). You can then drag the match(es) to specific rounds and
  input scores for each match. Number of rounds is determined by the number of
  participating teams
  and their purpose is to allow arrangement of matches so that no two teams
  are playing in same time slot (round).</p>

<div id="empty"></div>
<p>Setting up an empty editor is simple.</p>
<script class="demo" type="text/javascript"
    >$('#empty').group({ save: function() {} })
</script>
<div id="data">
  <h2>Editor state</h2>
  <p>JSON state of the editor that can be passed to initialize a new plugin.</p>
  <pre id="state"></pre>
</div>
<div id="components">
<h2>Editor with pre-filled data</h2>

<p>Below is a group with randomly generated team names and match results.
  You can try to edit any information: edit team names, change results, add
  teams and move matches by drag-and-drop between rounds.</p>
<p>When modifying the group, you can see the new state on right, and the result
  of rendering a read-only group below.</p>
<div id="editor"></div>
<p>When any change is done in the edit mode, the complete state (to be
  passed at init) is given to a callback. The callback can then store the
  object as JSON for example to a database.</p>
<script class="demo" type="text/javascript">// This is triggered by changes in above editor
function changeCallback(state) {
  // Show the state JSON on right
  $('pre').text(JSON.stringify(state, undefined, 2))

  // Reconstruct the read-only view below on each update
  $('#view').empty().group({ init: state })
}
</script>
<p>Pass your callback at initialization.</p>
<script class="demo" type="text/javascript">$('#editor').group({ init: testData, save: changeCallback })</script>
<h2>Rendering a read-only version of the group</h2>
<p>Modify the results in the editor above to see changes in this view.</p>
<div id="view"></div>
</div>

<h2>Starcraft 2 tournament demo</h2>
<p>IEM Season VII - World Championship group B, data from <a href="http://wiki.teamliquid.net/starcraft2/IEM_Season_VII_-_World_Championship">Liquipedia</a></p>
<div id="sc2demo"></div>
<script class="demo" type='text/javascript'>
$(function() { $('#sc2demo').group({ init: groupData }) })
</script>
</article>
</body>
</html>
