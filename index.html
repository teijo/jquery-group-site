<!DOCTYPE html>
<html>
<head>
<meta name="description" content="jQuery plugin for visualizing and editing tournament group stages" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<script type="text/javascript" src="lib/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="lib/Bacon-1ab32ffb.min.js"></script>
<script type="text/javascript" src="lib/lodash-v1.0.0-rc.3.min.js"></script>
<script type="text/javascript" src="lib/live.js"></script>
<script type="text/javascript" src="lib/handlebars-1.0.rc.2.js"></script>
<script type="text/javascript" src="jquery-group/dist/jquery.group.min.js"></script>
<link type="text/css" rel="stylesheet" href="jquery-group/dist/jquery.group.min.css" />
<style>
body { padding: 1%; }
pre { background-color: #EEE; max-height: 500px; overflow-y: scroll; }
#data { float: right; width: 28%; margin-left: 2%; }
#components { float: left; width: 68%; margin-right: 2%; }
#view { width: 100%; -moz-transition: all 10s; -webkit-transition: all 10s; overflow: hidden; }
script.demo { display: block; white-space: pre; font-family: monospace; background-color: #EEE; padding: 1em; }
h2 { clear: both; }
</style>
<script type='text/javascript'>
var groupData = [
  {
    "id": 0,
    "round": 1,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 1
    },
    "b": {
      "name": "First[sk,p]",
      "score": 2
    }
  },
  {
    "id": 1,
    "round": 1,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "MC[sk,p]",
      "score": 1
    }
  },
  {
    "id": 2,
    "round": 1,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "MC[sk,p]",
      "score": 1
    }
  },
  {
    "id": 3,
    "round": 2,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 0
    }
  },
  {
    "id": 4,
    "round": 2,
    "a": {
      "name": "First[sk,p]",
      "score": 0
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 2
    }
  },
  {
    "id": 5,
    "round": 2,
    "a": {
      "name": "MC[sk,p]",
      "score": 0
    },
    "b": {
      "name": "Ret[fr,z]",
      "score": 2
    }
  },
  {
    "id": 6,
    "round": 3,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 1
    }
  },
  {
    "id": 7,
    "round": 3,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 0
    }
  },
  {
    "id": 8,
    "round": 3,
    "a": {
      "name": "MC[sk,p]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 0
    }
  },
  {
    "id": 9,
    "round": 4,
    "a": {
      "name": "Ret[fr,z]",
      "score": 2
    },
    "b": {
      "name": "Kas[uk,t]",
      "score": 1
    }
  },
  {
    "id": 10,
    "round": 4,
    "a": {
      "name": "YoDa[sk,t]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 0
    }
  },
  {
    "id": 11,
    "round": 4,
    "a": {
      "name": "First[sk,p]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  },
  {
    "id": 12,
    "round": 5,
    "a": {
      "name": "MC[sk,p]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  },
  {
    "id": 13,
    "round": 5,
    "a": {
      "name": "Ret[fr,z]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 0
    }
  },
  {
    "id": 14,
    "round": 5,
    "a": {
      "name": "Kas[uk,t]",
      "score": 2
    },
    "b": {
      "name": "XIorD[de,z]",
      "score": 1
    }
  }
]
var participants = _(["Red Tornadoes", "Venomous Planets", "Crimson Legends", "Deadly Slammers"])
var roundCount = participants.size() - 1 + (participants.size() % 2)
var testData = participants.map(function(it, i) {
  return participants.filter(function(_, j) { return j < i }).map(function(it2) {
    return { round: ~~(Math.random()*10)%(roundCount + 1),
            a: { name: it,  score: ~~(Math.random()*10)%10 },
            b: { name: it2, score: ~~(Math.random()*10)%10 } }
  }).value()
}).flatten(true).value()
</script>
<title>jQuery Group</title>
<script type='text/javascript'>
  //<![CDATA[
  if (window.location.host != "localhost") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1488867-1']);
    _gaq.push(['_trackPageview']);
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
  //]]>
</script>
<script type='text/javascript'>
$(function() {
  var $container = $('#view')
  Bacon.repeatedly(10000, [40, 100]).onValue(function(length) {
    $container.css('width', length+"%")
  })
})
</script>
</head>
<body>
<h1>jQuery Group - Round-robin tournament groups</h1>
Get latest code from project <a href="https://github.com/teijo/jquery-group/tree/master/dist">Github repository</a>. In addition, you'll need the following libraries:
<ul>
<li><a href="http://lodash.com/">LoDash</a>, <a href="https://github.com/raimohanska/bacon.js">bacon.js</a>, <a href="http://jquery.com/">jQuery</a> and <a href="http://handlebarsjs.com/">handlebars</a></li>
</ul>
<h2>Empty</h2>
<div id="empty"></div>
<script class="demo" type="text/javascript"
    >$('#empty').group({ save: function() {} })
</script>
<div id="data">
  <h2>Editor state</h2>
  <p>JSON state of the editor that can be passed to initialize a new plugin.</p>
  <pre id="state"></pre>
</div>
<div id="components">
<h2>Editor with random data</h2>
<p>Edit group information. Add and rename teams from standings view. Drag and drop matches between rounds. Edit scores from matches.</p>
<div id="editor"></div>
<h2>View to the editor</h2>
<p>Modify the results in the editor above to see changes in this view.</p>
<div id="view"></div>
<script class="demo" type="text/javascript"
>// This is actually called by the next example
function changeCallback(state) {
  $('pre').text(JSON.stringify(state, undefined, 2))

  // Update read-only version of the component
  $('#view').empty().group({ init: state })
}
</script>
<script class="demo" type="text/javascript">$('#editor').group({ init: testData, save: changeCallback })</script>
</div>

<h2>Starcraft 2 tournament demo</h2>
<p>IEM Season VII - World Championship group B, data from <a href="http://wiki.teamliquid.net/starcraft2/IEM_Season_VII_-_World_Championship">Liquipedia</a></p>
<div id="sc2demo"></div>
<script class="demo" type='text/javascript'>
$(function() { $('#sc2demo').group({ init: groupData }) })
</script>
</body>
</html>
